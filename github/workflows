name: YesmartBot Auto Commit
on:
  workflow_dispatch:
  push:
    branches: [main]

jobs:
  update:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout repository
        uses: actions/checkout@v3

      - name: Make a visual test change
        run: |
          FILE="app/page.tsx"
          if [ -f "$FILE" ]; then
            sed -i "s/backgroundColor: '.*'/backgroundColor: 'red'/" $FILE || echo "Archivo actualizado manualmente"
          else
            echo "Archivo app/page.tsx no encontrado"
          fi

      - name: Commit and push changes
        run: |
          git config user.name "YesmartBot"
          git config user.email "bot@yesmartusa.com"
          git add .
          git commit -m "auto: fondo rojo de prueba"
          git push
